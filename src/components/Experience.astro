---
import ExperienceItem from "./ExperienceItem.astro";
import { useTranslations } from "../i18n/utils";
import { ui } from "../i18n/ui";

const lang = (Astro.currentLocale || "es") as keyof typeof ui;
const t = useTranslations(lang);

const EXPERIENCE = [
  {
    date: t("experience.cooper.date"),
    company: "Cooper",
    title: t("experience.cooper.title"),
    description: t("experience.cooper.description"),
    link: "https://somoscooper.com",
  },
  {
    date: t("experience.beachampion.date"),
    company: "Be a Champion",
    title: t("experience.beachampion.title"),
    description: t("experience.beachampion.description"),
    link: "https://www.beachampion.gg/",
  },
  {
    date: t("experience.fitlifemanager.date"),
    title: t("experience.fitlifemanager.title"),
    company: "Fitlife Manager",
    description: t("experience.fitlifemanager.description"),
  },
  {
    date: t("experience.fitlifego.date"),
    title: t("experience.fitlifego.title"),
    company: "Fitlife GO",
    description: t("experience.fitlifego.description"),
    link: "https://fitlifego.vercel.app/",
  },
  {
    date: t("experience.ldd.date"),
    title: t("experience.ldd.title"),
    company: "LDD Diario",
    description: t("experience.ldd.description"),
  },
];
---

<section class="experience-section">
  <div class="experience-container">
    <div class="cyber-timeline-line"></div>
    {
      EXPERIENCE.map((experience) => (
        <ExperienceItem {...experience} link={experience.link} />
      ))
    }
  </div>
</section>

<style>
  .experience-section {
    position: relative;
    padding: 2rem 0;
  }

  .experience-container {
    position: relative;
    max-width: 1000px; /* Ancho más contenido */
    margin: 0 auto;
    padding: 0 2rem;
  }

  /* Línea vertical de la línea de tiempo */
  .cyber-timeline-line {
    position: absolute;
    left: 50%;
    top: 0;
    bottom: 0;
    width: 2px;
    background: rgba(0, 255, 65, 0.2);
    transform: translateX(-50%);
    z-index: 0;
    box-shadow: 0 0 10px rgba(0, 255, 65, 0.1);
  }

  .cyber-timeline-line::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(to bottom, transparent, #00ff41, transparent);
    opacity: 0.5;
  }

  /* Responsive Design */
  @media (max-width: 768px) {
    .experience-section {
      padding: 3rem 0;
    }

    .experience-container {
      padding: 0 1rem;
    }

    .cyber-timeline-line {
      left: 1.5rem; /* Alinear a la izquierda en móvil */
    }
  }

  @media (max-width: 480px) {
    .experience-section {
      padding: 2rem 0;
    }

    .experience-container {
      padding: 0 0.5rem;
    }

    .cyber-timeline-line {
      left: 1rem;
    }
  }
</style>
