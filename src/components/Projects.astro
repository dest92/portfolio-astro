---
import GitHub from "./icons/GitHubIcon.astro";
import NextJS from "./icons/NextJSIcon.astro";
import Tailwind from "./icons/TailwindIcon.astro";
import ReactIcon from "./icons/ReactIcon.astro";
import SupabaseIcon from "./icons/SupabaseIcon.astro";
import BracketIcon from "./icons/BracketIcon.astro";
import Link from "./icons/Link.astro";

const TAGS = {
  NEXT: {
    name: "Next.js",
    class: "bg-gradient-to-r from-gray-900 to-black text-white border-white/20",
    icon: NextJS,
  },
  TAILWIND: {
    name: "Tailwind",
    class: "bg-gradient-to-r from-cyan-600 to-blue-600 text-white border-cyan-400/30",
    icon: Tailwind,
  },
  REACT: {
    name: "React.js",
    class: "bg-gradient-to-r from-blue-600 to-blue-700 text-white border-blue-400/30",
    icon: ReactIcon,
  },
  SUPABASE: {
    name: "Supabase",
    class: "bg-gradient-to-r from-green-600 to-emerald-600 text-white border-green-400/30",
    icon: SupabaseIcon,
  },
  ASTRO: {
    name: "Astro",
    class: "bg-gradient-to-r from-orange-500 to-red-500 text-white border-orange-400/30",
    icon: BracketIcon,
  },
};
const PROJECTS = [
  {
    title: "Fake Profile Generator",
    description:
      "Aplicación web que permite a los usuarios crear perfiles falsos con correos electrónicos temporales verificados para proteger su privacidad en línea. La aplicación genera direcciones de correo electrónico temporales que pueden ser utilizadas para registrarse en sitios web sin comprometer la información personal del usuario. También permite recibir correos simples",
    link: "https://fake-profile-generator.vercel.app",
    github: "https://github.com/dest92/fake-profile-generator",
    image: "/projects/fake.png",
    tags: [TAGS.NEXT, TAGS.TAILWIND],
    featured: true,
  },
  {
    title: "Ez-IP",
    description:
      "Sitio web para obtener información rápida sobre cualquier dirección IP.",
    link: "https://ez-ip.vercel.app",
    github: "https://github.com/dest92/ez-ip",
    image: "/projects/ezip.jpeg",
    tags: [TAGS.NEXT, TAGS.TAILWIND],
  },
  {
    title: "GreenPrint Landing Page",
    description: "Landing page para la empresa GreenPrint",
    link: "https://greenprint-landing.vercel.app/",
    github: "https://github.com/dest92/greenprint-landing",
    image: "/projects/landing.png",
    tags: [TAGS.ASTRO, TAGS.TAILWIND],
  },
  {
    title: "GreenPrint Ecommerce",
    description: "Ecommerce básico para la empresa GreenPrint",
    link: "https://greenprint-ecommerce.vercel.app",
    github: "https://github.com/dest92/greenprint-ecommerce",
    image: "/projects/ecommerce.png",
    tags: [TAGS.NEXT, TAGS.TAILWIND],
  },
  {
    title: "Epic Clash - Juego de combates épicos",
    description:
      "Epic Clash es un juego de combate por turnos donde dos facciones luchan hasta que muere un equipo entero. Las facciones están compuestas por héroes y monstruos, y los jugadores pueden componer sus equipos con cualquier combinación de estos personajes. Cuando los personajes atacan, se muestran mensajes de combate, brindando una experiencia inmersiva.",
    link: "https://epic-clash.vercel.app/",
    github: "https://github.com/dest92/epic-clash",
    image: "/projects/EpicClash.jpg",
    tags: [TAGS.NEXT, TAGS.TAILWIND],
    featured: true,
  },
  {
    title: "Ley de Bases - Votación en tiempo real",
    description:
      "Aplicación web para votar y visualizar votos de los ciudadanos sobre la Ley de Bases del Congreso de los Diputados. Utilicé Supabase para la base de datos para almacenar los votos y que se actualicen en tiempo real.",
    link: "https://ley-bases.vercel.app/",
    github: "https://github.com/dest92/ley-omnibus-voting",
    image: "/projects/bases.png",
    tags: [TAGS.TAILWIND, TAGS.REACT, TAGS.SUPABASE, TAGS.ASTRO],
  },
  {
    title: "Reload Landing Page",
    description: "Landing page de la comunidad de CS2 Reload Gaming.",
    link: "https://reload-landing.vercel.app/",
    github: "https://github.com/dest92/reload-landing",
    image: "/projects/reload.png",
    tags: [TAGS.TAILWIND, TAGS.REACT, TAGS.SUPABASE, TAGS.NEXT],
  },
  {
    title: "Fitlife Manager",
    description:
      "Desarrollo y despliegue de un sistema integral de control. El sistema permite gestionar clientes, pagos, elementos de entrenamiento, entre otras funcionalidades.",
    image: "/projects/manager.png",
    tags: [TAGS.TAILWIND, TAGS.REACT, TAGS.SUPABASE, TAGS.NEXT],
  },
  {
    title: "Fitlife GO",
    description:
      "Sistema para que los clientes del gimnasio puedan gestionar su información o marquen su asistencia al gimnasio mediante el escaneo de código QR, cuyo escáner se encuentra en el mismo sistema.",
    image: "/projects/go.png",
    tags: [TAGS.TAILWIND, TAGS.REACT, TAGS.SUPABASE, TAGS.NEXT],
  },
];
---

<div class="cyber-projects-grid">
  {
    PROJECTS.map(({ image, title, description, tags, link, github, featured }, index) => (
      <article class={`cyber-project-card ${featured ? 'featured' : ''}`} data-index={index}>
        {/* Cyber decorations */}
        <div class="cyber-card-corners">
          <div class="corner top-left"></div>
          <div class="corner top-right"></div>
          <div class="corner bottom-left"></div>
          <div class="corner bottom-right"></div>
        </div>
        
        {/* Content container */}
        <div class="project-content">
          {/* Image section */}
          <div class="project-image-container">
            <div class="image-frame">
              <img
                src={image}
                alt={`Captura de pantalla del proyecto ${title}`}
                class="project-image"
                loading="lazy"
              />
              <div class="image-overlay"></div>
            </div>
            {featured && (
              <div class="featured-badge">
                <span>FEATURED</span>
              </div>
            )}
          </div>

          {/* Info section */}
          <div class="project-info">
            <div class="project-header">
              <h3 class="project-title">{title}</h3>
              <div class="title-underline"></div>
            </div>

            <div class="project-tags">
              {tags.map((tag) => (
                <span class={`cyber-tag ${tag.class}`}>
                  <tag.icon class="tag-icon" />
                  <span class="tag-text">{tag.name}</span>
                </span>
              ))}
            </div>

            <p class="project-description">{description}</p>

            <div class="project-actions">
              {github && (
                <a
                  href={github}
                  target="_blank"
                  rel="noopener"
                  class="cyber-action-btn primary"
                >
                  <GitHub class="btn-icon" />
                  <span>Código</span>
                  <div class="btn-glow"></div>
                </a>
              )}
              {link && (
                <a
                  href={link}
                  target="_blank"
                  rel="noopener"
                  class="cyber-action-btn secondary"
                >
                  <Link class="btn-icon" />
                  <span>Ver Proyecto</span>
                  <div class="btn-glow"></div>
                </a>
              )}
            </div>
          </div>
        </div>
      </article>
    ))
  }
</div>

<style>
  .cyber-projects-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
    padding: 0;
    max-width: 1200px;
    margin: 0 auto;
  }

  .cyber-project-card {
    position: relative;
    background: rgba(0, 20, 40, 0.6);
    border: 1px solid rgba(0, 255, 136, 0.2);
    border-radius: 12px;
    padding: 1.5rem;
    backdrop-filter: blur(10px);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    overflow: hidden;
    height: fit-content;
  }

  .cyber-project-card:hover {
    transform: translateY(-8px);
    box-shadow: 
      0 20px 40px rgba(0, 0, 0, 0.3),
      0 0 60px rgba(0, 255, 136, 0.1);
    border-color: rgba(0, 255, 136, 0.4);
  }

  .cyber-project-card.featured {
    border-color: rgba(255, 0, 128, 0.4);
    box-shadow: 0 0 30px rgba(255, 0, 128, 0.1);
  }

  .cyber-project-card.featured:hover {
    border-color: rgba(255, 0, 128, 0.7);
    box-shadow: 
      0 20px 40px rgba(0, 0, 0, 0.3),
      0 0 40px rgba(255, 0, 128, 0.3);
  }

  .cyber-card-corners {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    z-index: 2;
  }

  .corner {
    position: absolute;
    width: 20px;
    height: 20px;
    border: 2px solid rgba(0, 255, 136, 0.6);
    transition: all 0.3s ease;
  }

  .corner.top-left {
    top: 8px;
    left: 8px;
    border-right: none;
    border-bottom: none;
  }

  .corner.top-right {
    top: 8px;
    right: 8px;
    border-left: none;
    border-bottom: none;
  }

  .corner.bottom-left {
    bottom: 8px;
    left: 8px;
    border-right: none;
    border-top: none;
  }

  .corner.bottom-right {
    bottom: 8px;
    right: 8px;
    border-left: none;
    border-top: none;
  }

  .cyber-project-card:hover .corner {
    border-color: rgba(0, 255, 136, 1);
    box-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
  }

  .project-content {
    position: relative;
    padding: 1rem;
    height: 100%;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    z-index: 1;
  }

  .project-image-container {
    position: relative;
    aspect-ratio: 16/9;
    overflow: hidden;
    border-radius: 6px;
  }

  .image-frame {
    position: relative;
    width: 100%;
    height: 100%;
    border: 1px solid rgba(0, 255, 136, 0.3);
    border-radius: 6px;
    overflow: hidden;
  }

  .project-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: all 0.4s ease;
    filter: saturate(0.8) contrast(1.1);
  }

  .cyber-project-card:hover .project-image {
    transform: scale(1.1);
    filter: saturate(1.2) contrast(1.2);
  }

  .image-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
      45deg,
      rgba(0, 255, 136, 0.1) 0%,
      transparent 30%,
      transparent 70%,
      rgba(0, 200, 255, 0.1) 100%
    );
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .cyber-project-card:hover .image-overlay {
    opacity: 1;
  }

  .holographic-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
      45deg,
      transparent 30%,
      rgba(0, 255, 136, 0.1) 50%,
      transparent 70%
    );
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .featured-badge {
    position: absolute;
    top: 12px;
    right: 12px;
    background: linear-gradient(45deg, #ff0080, #ff4da6);
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    box-shadow: 0 0 15px rgba(255, 0, 128, 0.4);
    z-index: 3;
  }

  .project-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .project-header {
    position: relative;
  }

  .project-title {
    font-size: 1.125rem;
    font-weight: 700;
    color: #fff;
    margin: 0;
    text-shadow: 0 0 10px rgba(0, 255, 136, 0.3);
    line-height: 1.3;
  }

  .title-underline {
    width: 40px;
    height: 2px;
    background: linear-gradient(90deg, #00ff88, #00ccff);
    margin-top: 0.5rem;
    border-radius: 1px;
    transition: width 0.3s ease;
  }

  .cyber-project-card:hover .title-underline {
    width: 80px;
  }

  .project-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.375rem;
  }

  .cyber-tag {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    padding: 0.25rem 0.5rem;
    border-radius: 12px;
    font-size: 0.7rem;
    font-weight: 500;
    border: 1px solid;
    backdrop-filter: blur(5px);
    transition: all 0.3s ease;
  }

  .cyber-tag:hover {
    transform: scale(1.05);
    box-shadow: 0 0 15px rgba(0, 255, 136, 0.3);
  }

  .tag-icon {
    width: 12px;
    height: 12px;
  }

  .project-description {
    color: rgba(255, 255, 255, 0.8);
    line-height: 1.5;
    font-size: 0.8rem;
  }

  .project-actions {
    display: flex;
    gap: 0.5rem;
    margin-top: auto;
    flex-wrap: wrap;
  }

  .cyber-action-btn {
    position: relative;
    display: flex;
    align-items: center;
    gap: 0.25rem;
    padding: 0.5rem 0.75rem;
    border: 1px solid;
    border-radius: 6px;
    font-size: 0.75rem;
    font-weight: 500;
    text-decoration: none;
    transition: all 0.3s ease;
    overflow: hidden;
    backdrop-filter: blur(5px);
    white-space: nowrap;
  }

  .cyber-action-btn.primary {
    background: linear-gradient(135deg, rgba(0, 255, 136, 0.1), rgba(0, 200, 255, 0.1));
    border-color: rgba(0, 255, 136, 0.4);
    color: #00ff88;
  }

  .cyber-action-btn.secondary {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.1));
    border-color: rgba(255, 255, 255, 0.2);
    color: rgba(255, 255, 255, 0.9);
  }

  .cyber-action-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
  }

  .cyber-action-btn.primary:hover {
    border-color: rgba(0, 255, 136, 0.8);
    box-shadow: 0 8px 25px rgba(0, 255, 136, 0.2);
  }

  .cyber-action-btn.secondary:hover {
    border-color: rgba(255, 255, 255, 0.4);
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.15));
  }

  .btn-icon {
    width: 12px;
    height: 12px;
  }

  .btn-glow {
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent 0%,
      rgba(255, 255, 255, 0.2) 50%,
      transparent 100%
    );
    transition: left 0.5s ease;
  }

  .cyber-action-btn:hover .btn-glow {
    left: 100%;
  }

  /* Dark mode adjustments */
  @media (prefers-color-scheme: dark) {
    .project-description {
      color: rgba(255, 255, 255, 0.7);
    }
  }

  :global(.dark) .project-description {
    color: rgba(255, 255, 255, 0.7);
  }

  /* Responsive Design */
  @media (max-width: 1024px) {
    .cyber-projects-grid {
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 1.25rem;
    }
  }

  @media (max-width: 768px) {
    .cyber-projects-grid {
      grid-template-columns: 1fr;
      gap: 1rem;
      padding: 0 0.5rem;
    }

    .cyber-project-card {
      padding: 1rem;
      border-radius: 8px;
    }

    .project-content {
      padding: 0.75rem;
      gap: 0.75rem;
    }

    .project-title {
      font-size: 1rem;
    }

    .project-description {
      font-size: 0.75rem;
    }

    .cyber-tag {
      font-size: 0.65rem;
      padding: 0.2rem 0.4rem;
    }

    .tag-icon {
      width: 10px;
      height: 10px;
    }

    .cyber-action-btn {
      font-size: 0.7rem;
      padding: 0.4rem 0.6rem;
    }

    .btn-icon {
      width: 10px;
      height: 10px;
    }

    .project-actions {
      gap: 0.375rem;
    }
  }

  @media (max-width: 480px) {
    .cyber-projects-grid {
      padding: 0 0.25rem;
    }

    .cyber-project-card {
      padding: 0.75rem;
    }

    .project-content {
      padding: 0.5rem;
    }

    .project-actions {
      flex-direction: column;
      align-items: stretch;
    }

    .cyber-action-btn {
      justify-content: center;
      text-align: center;
    }
  }
</style>
